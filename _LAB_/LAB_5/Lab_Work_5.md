## **Лабораторна робота № 5**
# **Просторова фільтрація зображень. Лінійна фільтрація. Посилення різкості**
- - -
## **Мета роботи:**
Ознайомитись базовими алгоритмами просторової обробки зображень за допомогою фільтрів

## **Засоби виконання роботи:**
Для виконання роботи можливо використовувати довільний iнтерпретатор мови [PYTHON](https://www.python.org/downloads/), також [IDE Anaconda](https://anaconda.org/) (Jupyter Lab / Jupyter Notebook, Spyder) або [Microsoft Visual Studio](https://visualstudio.microsoft.com).

## **Теоретичні відомості**
Основні теоретичні відомості викладено в лекції.
При виконання лабораторної роботи використовуємо лінійни фільтри з наступними масками:

**Маска фільтру Лапласа  3 х 3 має вигляд**  

| |0|1|2|
|:-|:-|:-|:-
|**0**|0|-b|0
|**1**|-b|1+4b|-b
|**2**|0|-b|0

Нормуючий кокфіцієнт = 1

## **Завдання до виконання**
1. Зчитати оригінальне зображення у відповідності за варіантом завдання лабораторної роботи №1.
1. Вивести структуру та розмір оригінального зображення.
1. Сформувати  зображення з підвищеною різкістю за допомогою  фільтру Лапласа для різних значень **b**. Зберегти у файл в форматі BMP.
1. Порівняти гістограми оригінального зображення та фільтрованого.
1. Сформувати  зображення з підвищеною різкістю у визначеному напрямку за допомогою градієнтного фільтру (напрям - дивись **таблицю**). Маску градієнтного фільтру сформувати самостійно (дивись лекцію).
1. Порівняти гістограми оригінального зображення та фільтрованого зображення.

|Варіант|**b**|[Напрям градієнтного фільтру|  
|:-------|:-------|:---
|**1**|2 ; 3|схід |
|**2**|1 ; 3|захід |
|**3**|2 ; 4|південь|
|**4**|1 ; 4|північь|
|**5**|2 ; 3|схід - південь|
|**6**|1 ; 3|схід - північь|
|**7**|2 ; 4|захід - південь|
|**8**|1 ; 4|захід - північь|
|**9**|1 ; 3|схід - південь|
|**10**|2 ; 3|захід - південь|
|   | |
|**21**|2 ; 3|схід |
|**22**|1 ; 3|захід |
|**23**|2 ; 4|південь|
|**24**|1 ; 4|північь|
|**25**|2 ; 3|схід - південь|
|**26**|1 ; 3|схід - північь|
|**27**|1 ; 4|захід - південь|
|**28**|2 ; 3|захід - північь|
|**29**|1 ; 3|схід - південь|
|**30**|1 ; 4|захід|
|**31**|2 ; 4|схід|

## **Приклади**
- ### **Використання фільтру Лапласа**
Вважаємо, що орігінальне зображення завантажено до масиву ***test_image*** та визначені змінні ***rows_num*** , ***clms_num***


```
mask_clm = 3
mask_sharp = np.zeros ( (mask_row, mask_clm, 1), dtype = np.float32)
print ('MASK SHAPE', mask_sharp.shape, 'MASK SIZE', mask_row*mask_clm)
b = 2.0
Q = 1.0 + 4*b
q = -b
mask_sharp[0,0] = mask_sharp[0,2] = 0.0
mask_sharp[2,0] = mask_sharp[2,2] = 0.0
mask_sharp[1,0] = mask_sharp[1,2] = q
mask_sharp[0,1] = mask_sharp[2,1] = q
mask_sharp[1,1] = Q

## Визначення файлу перетворенного зображення
filtr_im_ = np.zeros ( (rows_num, clms_num, 3), dtype = np.float32)

pixel = np.zeros(3, dtype=np.float32)
rows = rows_num
clms = clms_num
##rows = 20
##clms = 20
for i in  range (1, (rows -1), 1):
    for j in  range (1, (clms-1), 1):
        pixel[:] = 0
        for l in range (mask_row):
            for k in range (mask_clm):
                # fiter image
                pixel += mask_sharp[l,k]*test_im_flt [i-(1-l), j-(1-k), : ]
                ## print (i, j, l, k, test_im [i-(1-k), j-(1-l), : ], pixel)                        
        filtr_im_ [i, j, :] = pixel [:]
        #print (i, j, test_im [i, j, : ], pixel[:], filtr_im_ [i, j, :])      
```
- ### **Повний приклад програм дивись** [Lab5.1](Lab_5_Example_1_.ipynb)
